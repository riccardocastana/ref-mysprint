<div class="mys-d-flex mys-justify-content-between mys-align-items-start">
  <h1 class="mys-font-size-30 mys-text-color-primary">Performance Individuale</h1>
  <button mat-raised-button color="accent">
    <mat-icon>download</mat-icon>
  </button>
</div>

<section class="mys-d-flex mys-justify-content-between mys-align-items-end mys-mb-3">
  <div>
    <span class="mys-text-color-primary">Persona</span>
    <span class="mys-mx-5">Nome persona</span>
    <button mat-button color="primary">Cambia Persona</button>
  </div>
  <div>
    <mat-form-field appearance="outline">
      <mat-label>Anno di riferimento</mat-label>
      <mat-select [(value)]="currentYear">
        <mat-option *ngFor="let date of dates" [value]="date">
          {{date}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</section>

<section class="mys-d-flex mys-justify-content-between mys-align-items-end mys-mb-5">
  <div>
    <mat-card>
      <mat-card-header>
        <mat-card-title class="mys-text-color-primary">Filtri Rapidi

        </mat-card-title>
      </mat-card-header>
      <mat-card-actions>
        <mat-chip-list aria-label="Selezione dei filtri rapidi" [multiple]="multiple" [selectable]="selectable">
          <mat-chip [ngClass]="chip.state ? 'mys-chip-selected': 'mys-chip'" [selected]="chip.state"
            (click)="chip.state=!chip.state;changeSelected(chip.viewValue)" color="primary"
            *ngFor="let chip of chipsOption" [selectable]="selectable">{{chip.viewValue}}</mat-chip>
        </mat-chip-list>
        
        <mat-form-field appearance="outline" class="mys-w-100 mys-mt-4">
          <mat-label>Stato Obiettivo</mat-label>
          <mat-select #statiSel multiple>
            <mat-select-trigger *ngIf="allStatiSelected">
              Tutti selezionati
            </mat-select-trigger>
            <button mat-button class="mys-w-100" (click)="toggleAllStatiSelection()">
              <span *ngIf="!allStatiSelected;else allSelected" class="mys-d-flex mys-align-items-center">
                <mat-icon color="primary">fact_check</mat-icon>
                Seleziona tutti
              </span>
              <ng-template #allSelected>
                <span class="mys-d-flex mys-align-items-center">
                  <mat-icon color="accent">delete_sweep</mat-icon>
                  Deseleziona tutti
                </span>
              </ng-template>
            </button>
            <mat-optgroup label="Stati">
              <mat-option *ngFor="let stato of statiObiettivo" [value]="stato">
                {{stato}}
              </mat-option>
            </mat-optgroup>
          </mat-select>
        </mat-form-field>
        
      </mat-card-actions>
    </mat-card>
  </div>
  <button mat-raised-button color="accent">Crea Obiettivo</button>
</section>
<mat-accordion multi="true">
  <mat-expansion-panel>

    <mat-expansion-panel-header>
      <mat-panel-title>
        <span class="mys-font-w5 mys-text-color-primary">Performance strategica</span>
      </mat-panel-title>
    </mat-expansion-panel-header>

  </mat-expansion-panel>
</mat-accordion>
<mat-accordion>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <span class="mys-font-w5 mys-text-color-primary">Performance Operativa</span>
      </mat-panel-title>
    </mat-expansion-panel-header>

  </mat-expansion-panel>
</mat-accordion>
